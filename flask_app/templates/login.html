{% extends "header.html" %}
{% block content %}
<div class="row">
  <div class="col">
    <h2>Log In</h2>
  </div>
</div>
<div class="row">
  <div class="col">
    <h2> Don't have an account? Click the link to register an account. </h2>
    <a href="{{ url_for('users.register') }}"> Register </a>
  </div>
</div>
<div class="row">
  <div class="col">
    {% if current_user.is_authenticated %}
    <h1> Welcome {{ current_user.username }}! </h1>
    {%endif %}
    {% if not current_user.is_authenticated %}
    <h2> Try entering your username and password again. </h2>
    {# Login form rendered here with Bootstrap classes #}
    {%endif %}
  </div>
  <form action="" method="POST">
    {{ form.csrf_token }}
    <div class="form-group">
      {{ form.username.label(class="form-control-label green-text") }}
      {{ form.username(class="form-control form-control-md") }}

      {% if form.username.errors %}
      <div class="alert alert-warning" role="alert">
        {% for error in form.username.errors %}
        <span>{{ error }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="form-group">
      {{ form.password.label(class="form-control-label") }}
      {{ form.password(class="form-control form-control-lg") }}

      {% if form.password.errors %}
      <div class="alert alert-warning" role="alert">
        {% for error in form.password.errors %}
        <span>{{ error }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
    {% if errors|length > 0 %}
    <div class="alert alert-warning" role="alert">
      {{ errors }}
    </div>
    {% endif %}
    <div class="form-group">
      {{ form.submit(class="form-control form-control-lg") }}
    </div>
    <!-- <button type="submit" class="btn btn-primary">Register Now</button> -->
  </form>
</div>
{% endblock %}